<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mikeos-developer] Booting from USB flash drive
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mikeos-developer/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Booting%20from%20USB%20flash%20drive&In-Reply-To=%3CE9E93175C62746C9AD8BA82E7626C024%40userfe6b65a555%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001272.html">
   <LINK REL="Next"  HREF="001263.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mikeos-developer] Booting from USB flash drive</H1>
    <B>mikegonta at gmail.com</B> 
    <A HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Booting%20from%20USB%20flash%20drive&In-Reply-To=%3CE9E93175C62746C9AD8BA82E7626C024%40userfe6b65a555%3E"
       TITLE="[mikeos-developer] Booting from USB flash drive">mikegonta at gmail.com
       </A><BR>
    <I>Wed May 12 11:34:49 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001272.html">[mikeos-developer] Booting from USB flash drive
</A></li>
        <LI>Next message: <A HREF="001263.html">[mikeos-developer] Booting from USB flash drive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1261">[ date ]</a>
              <a href="thread.html#1261">[ thread ]</a>
              <a href="subject.html#1261">[ subject ]</a>
              <a href="author.html#1261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
----- Original Message ----- 
From: &quot;Paulo Valongo&quot;
To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>&gt;
Sent: Wednesday, May 12, 2010 4:38 AM
Subject: [mikeos-developer] Booting from USB flash drive


&gt;<i> Plus one learns nothing by simply using precompiled programs.
</I>&gt;<i>
</I>&gt;<i> So the method I used as follows:
</I>&gt;<i>
</I>&gt;<i> - insert usb flash drive, start WinHex and Zero all the sectors.
</I>&gt;<i> - use dd as follows:
</I>&gt;<i>  dd if=c:\mikeos\mikeos41.ima of=\\.\f:   (my flash drive is f: and the 
</I>&gt;<i> .ima is simply the .flp renamed to .ima so that WinImage will open it).
</I>
When using dd to write to a flash drive first copy dd.exe and rename it 
dd-removable.exe.
dd-removable.exe will not allow a write to a non removable drive such as 
your hard drive.
Do not write to a partition indicated by a drive letter, as this depends on 
the MBR on the flash drive.
First determine which physical drive the flash drive is, for example if you 
only have one physical hard drive
(which can have multiple partitions with designated drive letters) the flash 
drive will be physcical drive 1
( 0 is the first drive - the hard drive). In windows, right click &quot;My 
Computer&quot;, select &quot;Manage&quot;,
select &quot;Storage&quot;, select Disk Management&quot; to view physical drives.

Use the follow dd command for a flash drive that is physcical drive 1.
Change &quot;Harddisk1&quot; accordingly.

dd-removable if=c:\mikeos\mikeos41.ima of=\\?\Device\Harddisk1\Partition0

More information on dd is here
<A HREF="http://www.chrysocome.net/dd">http://www.chrysocome.net/dd</A>

HxD is a free windows disk and file editor which will allow you to copy an
image and paste it to the the physical drive.
<A HREF="http://mh-nexus.de/en/hxd/">http://mh-nexus.de/en/hxd/</A>

USB Image Tool is a free windows point and click tool for transferring and
saving flash drive images.
<A HREF="http://www.alexpage.de/">http://www.alexpage.de/</A>

Unfortunately MikeOS is hard coded (in many places) to assume floppy disk 
geometry.
This prevents it from being run from a flash drive which boots on a BIOS 
which uses
hard drive emulation. See the code in pdBIOS32, specifically boot.asm which 
allows
it to boot and run under either setup.


Mike Gonta
look and see - many look but few see

<A HREF="http://mikegonta.com/pdBIOS32">http://mikegonta.com/pdBIOS32</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001272.html">[mikeos-developer] Booting from USB flash drive
</A></li>
	<LI>Next message: <A HREF="001263.html">[mikeos-developer] Booting from USB flash drive
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1261">[ date ]</a>
              <a href="thread.html#1261">[ thread ]</a>
              <a href="subject.html#1261">[ subject ]</a>
              <a href="author.html#1261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mikeos-developer">More information about the mikeos-developer
mailing list</a><br>
</body></html>
