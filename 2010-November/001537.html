<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mikeos-developer] Good way to load the kernel
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mikeos-developer/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Good%20way%20to%20load%20the%20kernel&In-Reply-To=%3CBAY151-w63575BFBEC1EF8D04C6EC1833F0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001536.html">
   <LINK REL="Next"  HREF="001538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mikeos-developer] Good way to load the kernel</H1>
    <B>Dan Barry</B> 
    <A HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Good%20way%20to%20load%20the%20kernel&In-Reply-To=%3CBAY151-w63575BFBEC1EF8D04C6EC1833F0%40phx.gbl%3E"
       TITLE="[mikeos-developer] Good way to load the kernel">danbarry at hotmail.co.uk
       </A><BR>
    <I>Wed Nov 24 11:18:36 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001536.html">[mikeos-developer] Good way to load the kernel
</A></li>
        <LI>Next message: <A HREF="001538.html">[mikeos-developer] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1537">[ date ]</a>
              <a href="thread.html#1537">[ thread ]</a>
              <a href="subject.html#1537">[ subject ]</a>
              <a href="author.html#1537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> kern_start.asm
</I>
&gt;<i> &gt; For a 16-bit, real-mode OS running from a FAT12 floppy, a great
</I>&gt;<i> &gt; example is the MikeOS bootloader code (bootload.asm). Demonstrates how
</I>&gt;<i> &gt; to parse the FAT tables on the disk to find a kernel filename, then
</I>&gt;<i> &gt; load the sectors to the right point in RAM and jump to that point to
</I>&gt;<i> &gt; begin execution.
</I> 
You may be interested in the bootloader I have made by adapting the Mike OS one.
 
In a 'challenge' to make an operating system as small as possible, I made a bootloader capable of loading programs, and giving them some features, in the size of a bootloader. Many 'spare 5 minutes' later, and it is completed.
 
It automatically searched for a binary file of your choice, or if it can't find that then it gives you a 'Dos' like screen, where you can type in the name of the file you are trying to find. As long as the extention is .BIN, you don't have to type anything else but the name of the file you want to run.
 
As an added extra, it sets up the start of the kernel inside the bootloader, so that you can load files over 512 bytes.
 
It's small, and very adaptable if you want it?
 
An old working version is attached, as assembly and a binary file.
 
To make it load your file, simply change the file name to 8 letters or less (in capitals) + &quot;.BIN&quot;
 
Then, when booted, type the name without &quot;.BIN&quot;
 
Have fun :)
 
Hope this helps,
 
Dan 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mikeos-developer/attachments/20101124/a760e450/attachment.html">https://lists.berlios.de/pipermail/mikeos-developer/attachments/20101124/a760e450/attachment.html</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: OS24.asm
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mikeos-developer/attachments/20101124/a760e450/attachment.ksh">https://lists.berlios.de/pipermail/mikeos-developer/attachments/20101124/a760e450/attachment.ksh</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OS24
Type: application/octet-stream
Size: 512 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mikeos-developer/attachments/20101124/a760e450/attachment.obj">https://lists.berlios.de/pipermail/mikeos-developer/attachments/20101124/a760e450/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001536.html">[mikeos-developer] Good way to load the kernel
</A></li>
	<LI>Next message: <A HREF="001538.html">[mikeos-developer] (no subject)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1537">[ date ]</a>
              <a href="thread.html#1537">[ thread ]</a>
              <a href="subject.html#1537">[ subject ]</a>
              <a href="author.html#1537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mikeos-developer">More information about the mikeos-developer
mailing list</a><br>
</body></html>
