<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mikeos-developer] Looking ahead to	2.0:segmentsandDOScompatibility
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mikeos-developer/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Looking%20ahead%20to%0A%092.0%3AsegmentsandDOScompatibility&In-Reply-To=%3C8d87c8a30809021431nbf6c434g3d9b2d97ea5ee2c5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000111.html">
   <LINK REL="Next"  HREF="000106.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mikeos-developer] Looking ahead to	2.0:segmentsandDOScompatibility</H1>
    <B>Bob Moss</B> 
    <A HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Looking%20ahead%20to%0A%092.0%3AsegmentsandDOScompatibility&In-Reply-To=%3C8d87c8a30809021431nbf6c434g3d9b2d97ea5ee2c5%40mail.gmail.com%3E"
       TITLE="[mikeos-developer] Looking ahead to	2.0:segmentsandDOScompatibility">bobbyjmoss at googlemail.com
       </A><BR>
    <I>Tue Sep  2 23:31:15 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000111.html">[mikeos-developer] Looking ahead to	2.0:segmentsandDOScompatibility
</A></li>
        <LI>Next message: <A HREF="000106.html">[mikeos-developer] Looking ahead to 2.0: segments and DOS	compatibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#114">[ date ]</a>
              <a href="thread.html#114">[ thread ]</a>
              <a href="subject.html#114">[ subject ]</a>
              <a href="author.html#114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah - the code looks superb. I don't have any 64-bit hardware so I won't be
able to test it, but from what I've seen from the website it is really very
good.

Hmm... It shows just how far away I am with ApolloOS... d'oh!

2008/9/2 Troy Martin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">blasterman95 at gmail.com</A>&gt;

&gt;<i> Hey Ian!
</I>&gt;<i>
</I>&gt;<i> Nice project, already got me a keyboard driver using in 60h and in 64h.
</I>&gt;<i>
</I>&gt;<i> Troy Martin
</I>&gt;<i> www.blasterman.co.nr
</I>&gt;<i>
</I>&gt;<i> --------------------------------------------------
</I>&gt;<i> From: &quot;Ian Seyler&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">iseyler at gmail.com</A>&gt;
</I>&gt;<i> Sent: Tuesday, September 02, 2008 6:03 AM
</I>&gt;<i> To: &quot;MikeOS (and similar OS) developers&quot; &lt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>&gt;
</I>&gt;<i> Subject: Re: [mikeos-developer] Looking ahead to
</I>&gt;<i> 2.0:segmentsandDOScompatibility
</I>&gt;<i>
</I>&gt;<i> &gt; Hi Troy,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Check the source for the OS I am writing (kinda based off of MikeOS).
</I>&gt;<i> &gt; I have a routine in there for using the keyboard.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.returninfinity.com/bare-metal-os">http://www.returninfinity.com/bare-metal-os</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Ian
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Mon, Sep 1, 2008 at 8:15 PM, Troy Martin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">blasterman95 at gmail.com</A>&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;&gt; It scares the hell out of me too.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; BTW, does anyone know how to write a keyboard driver that doesn't use
</I>&gt;<i> &gt;&gt; interrupts, so I can use it in pmode?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Troy Martin
</I>&gt;<i> &gt;&gt; www.blasterman.co.nr
</I>&gt;<i> &gt;&gt; From: Bob Moss
</I>&gt;<i> &gt;&gt; Sent: Monday, September 01, 2008 5:10 PM
</I>&gt;<i> &gt;&gt; To: MikeOS (and similar OS) developers
</I>&gt;<i> &gt;&gt; Subject: Re: [mikeos-developer] Looking ahead to 2.0:
</I>&gt;<i> &gt;&gt; segmentsandDOScompatibility
</I>&gt;<i> &gt;&gt; Or, for an idea of the sort of information I'm turning up from the web:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; <A HREF="http://tldp.org/HOWTO/Linux-i386-Boot-Code-HOWTO/bootloader.html">http://tldp.org/HOWTO/Linux-i386-Boot-Code-HOWTO/bootloader.html</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; It may make more sense to you than me, but as someone who isn't overly
</I>&gt;<i> &gt;&gt; happy
</I>&gt;<i> &gt;&gt; with x86 Assembly Language (I've nailed the basics - but I'm using C
</I>&gt;<i> &gt;&gt; thank
</I>&gt;<i> &gt;&gt; you!) it scares the hell out of me!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; 2008/9/2 Bob Moss &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">bobbyjmoss at googlemail.com</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; It shouldn't even be necessary to do that.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; If you use 'AOUT KLUDGE' you can set a multiboot header within the grub
</I>&gt;<i> &gt;&gt;&gt; bootloader. In theory, you should just be able to boot MikeOS as-is (in
</I>&gt;<i> &gt;&gt;&gt; theory...)
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Here's a good link from osdev.org - and you can see why I had some
</I>&gt;<i> &gt;&gt;&gt; difficulty having a go doing this!
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> <A HREF="http://forum.osdev.org/viewtopic.php?p=12881&amp;sid=b93f1d72e582102361f6e16b35531316">http://forum.osdev.org/viewtopic.php?p=12881&amp;sid=b93f1d72e582102361f6e16b35531316</A>
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; 2008/9/2 Troy Martin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">blasterman95 at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Would it be possible to boot MikeOS into pmode at the start, disable
</I>&gt;<i> &gt;&gt;&gt;&gt; A20
</I>&gt;<i> &gt;&gt;&gt;&gt; and pmode, going back to regular MikeOS in realmode? There's my 41st
</I>&gt;<i> &gt;&gt;&gt;&gt; and
</I>&gt;<i> &gt;&gt;&gt;&gt; 42nd cents.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Troy Martin
</I>&gt;<i> &gt;&gt;&gt;&gt; www.blasterman.co.nr
</I>&gt;<i> &gt;&gt;&gt;&gt; From: Bob Moss
</I>&gt;<i> &gt;&gt;&gt;&gt; Sent: Monday, September 01, 2008 4:47 PM
</I>&gt;<i> &gt;&gt;&gt;&gt; To: MikeOS (and similar OS) developers
</I>&gt;<i> &gt;&gt;&gt;&gt; Subject: Re: [mikeos-developer] Looking ahead to 2.0: segments
</I>&gt;<i> &gt;&gt;&gt;&gt; andDOScompatibility
</I>&gt;<i> &gt;&gt;&gt;&gt; A logo and a motto - all you need to take over the world...!!!
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; So, do we still want a grub bootloader that boots MikeOS in real mode?
</I>&gt;<i> &gt;&gt;&gt;&gt; In
</I>&gt;<i> &gt;&gt;&gt;&gt; view of V.2.0 it would probably be better just to use pmode (but as I
</I>&gt;<i> &gt;&gt;&gt;&gt; said,
</I>&gt;<i> &gt;&gt;&gt;&gt; you'd need to some interrupt handlers!).
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; 2008/9/1 Troy Martin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">blasterman95 at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Mike:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   I was going to make some remark about me looking ahead, but then I
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; noticed you said v2.0.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   My god. That's quite a big step, removing DOS compatibility. But
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; IMHO,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I think you
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   (we) should take it out. And doing segments and pulling off a
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; DOS-interrupt-like system
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   is a neat idea. But if we go for an interrupt, it shouldn't be from
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; 20
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; to 2F, since DOS
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   takes up all those. 0x25 is absolute disk read. If you wanted to
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; incorporate a little
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   reference, use INT 4D (4D is ASCII 'M').
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   And unreal mode, that's a nice step. I've been looking into pmode,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; and
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I like A20, but I
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   hate to have to work without the BIOS as &quot;training wheels.&quot; Ughh,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; that
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; shows my noob
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   core...
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Bob:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   &gt; stretch 16-bit to the absolute limit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;   Hey, that should be the MikeOS motto, &quot;Stretching 16-bit to the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; absolute limit!&quot;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Troy Martin
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; www.blasterman.co.nr
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; From: Bob Moss
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Sent: Sunday, August 31, 2008 4:14 PM
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; To: MikeOS (and similar OS) developers
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Subject: Re: [mikeos-developer] Looking ahead to 2.0: segments and
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; DOScompatibility
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; It depends on your ambitions for MikeOS.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I always thought that the DOS Compatibility was a bit gimmicky (I'm
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; not
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; going out of my way to include it in Apollo!) - it adds very few apps
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; to the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; OS's already very small armoury but takes a fair amount of already
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; limited
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; resources. It's pretty cool as an experimental feature - but
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; engineering it
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; into the core of MikeOS does seem a little strange (when you consider
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; what
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; DOS and MikeOS stand for on licensing principles, etc.). You could
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; perhaps
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; use 'dos-like' routines to help out new developers, but going for
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; native
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; support (even partially) would be very difficult (and each MikeOS
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; would have
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; to be tailored to accomadate DOS routines to avoid breaking DOS
</I>&gt;<i> code).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Hmm... MikeOS seems to me like a project that looks to stretch 16-bit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; to
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; the absolute limit. I think that so long as you have a seperate
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; 'tutorial'
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; OS you still maintain the principle of teaching kernel-design, and
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; offering
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; MikeOS (or their own personal OS) as the 'next step'.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Of course, I finally get to snigger at this point as you concede that
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; you need to move from real mode to 'unreal' (or 'protected?') mode to
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; gain
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; additional functionality (I'm having to do this from the start, as
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; well as
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; rewriting most of the OS from scratch to fully utilise 32-bit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; operation). If
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; you are planning to head to a protected mode OS, then using grub as a
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; bootloader would take far less effort - but you would unfortunately
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; lose
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; your access to BIOS calls, so you would then need interrupt handling
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; (again
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; a bane of my life at the moment - thank goodness for bkerndev...!).
</I>&gt;<i> It
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; all
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; depends on which processor architecture you wanted to support - the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; earlier
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; the choice, the simpler the interrupt handling (in theory...!).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; There's definitely some food for thought there!
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; 2008/8/31 Ian Seyler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">iseyler at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; I've never thought that the DOS compatility was a big feature.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Personally I have always commented those DOS sections out when
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; compiling MikeOS.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; I also like the idea with staying within one 64K segment. It is
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; interesting to see what you can do with that amount of memory.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Just my thoughts...
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; -Ian
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; On 8/31/08, M Saunders &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">okachi at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Hi everyone,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Some general thoughts here - skip to the end if you're too busy to
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; read :-)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Right now there are two features being worked on for the next
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; release
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; of MikeOS, as you know:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; 1) FAT 12 write support
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; 2) Mouse support
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; But there's something else I'm looking into - memory handling.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Currently, MikeOS exists in a single 64K segment of RAM, and never
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; strays out of it. The upper 32K is devoted to the kernel (of which
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; 8K
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; is scratch space). So programs are limited to 32K, and it's all
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; getting a bit tight.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; What are the solutions? Unreal mode (aka flat real mode) dispenses
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; 20-bit addressing scheme and provides access to a full 4GB of RAM
</I>&gt;<i> -
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; at
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; least, in terms of data. For executable code (CS:IP) however,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; you're
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; still stuck with 20-bit addressing, segment hassles, and a 1MB
</I>&gt;<i> code
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; limit.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; So it wouldn't really make things any easier - we'd still have the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; segmentation annoyances. (For those who've not looked into
</I>&gt;<i> segments
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; yet, see the Real Mode bit of
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; <A HREF="http://en.wikipedia.org/wiki/Segment_register">http://en.wikipedia.org/wiki/Segment_register</A> - it's pretty messy
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; stuff.)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; One solution may be to define three segments for MikeOS: the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; kernel,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; external programs, and external program data; and engineer it in
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; such
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; a way that the user doesn't really have to know much about
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; segmentation (ie after an os_load_file routine they manipulate the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; data with ES:DI and that's that). I'm not sure how much we can
</I>&gt;<i> make
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; it
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; transparent, but it'd clearly make the OS more capable.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Of course, for this transition the current system call method will
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; have to go out of the window, and be replaced with an int XXh
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; alternative. That's a shame, but with an appropriate mikedev.inc
</I>&gt;<i> we
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; can still, say, have
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;   os_print_string equ 01h
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; and then programmers can use:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;   mov si, msgtext
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;   mov ax, os_print_string
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;   int 25h
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; and so forth.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; The other issue is DOS compatibility. It's cool, and Peter Nemeth
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; and
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; co have done some fantastic work, but it's still extremely limited
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; and
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; can only run a tiny number of DOS apps (mostly games). I'm
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; wondering
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; if it's better off to remove it, and incorporate it into a
</I>&gt;<i> separate
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; project - eg the 'OS in 7 steps' guide I mentioned before. It'd
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; arguably make the MikeOS code a lot cleaner, and I'm not sure how
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; much
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; anyone else wants to hack on that side of things.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; So, SUMMARY: 1) The MikeOS design, in terms of memory, is very
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; limiting. Would switching to a three-segment model make it too
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; complex? And 2) Is the DOS code a killer feature, or an
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; infrequently
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; updated complication that doesn't really make MikeOS DOS
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; compatible?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Opinions and (realistic!) ideas muchly sought - thanks :-)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; M
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; --
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; Mike Saunders
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; <A HREF="http://okachi.googlepages.com">http://okachi.googlepages.com</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; --
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Sent from Gmail for mobile | mobile.google.com
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; --
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; This email is not intended to offend, annoy or inconvenience anyone.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; If
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; it has, email me and state that it has, and we'll sort out the
</I>&gt;<i> problem
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; in an
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; amicable way. Thank you for reading this message, I hope for a reply
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; from
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; you soon!
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Why not visit my tech site?: <A HREF="http://bjm1904.741.com/">http://bjm1904.741.com/</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; or Apollo OS?:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="http://apolloopsys.sourceforge.net/">http://apolloopsys.sourceforge.net/</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; ________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; --
</I>&gt;<i> &gt;&gt;&gt;&gt; This email is not intended to offend, annoy or inconvenience anyone.
</I>&gt;<i> If
</I>&gt;<i> &gt;&gt;&gt;&gt; it has, email me and state that it has, and we'll sort out the problem
</I>&gt;<i> &gt;&gt;&gt;&gt; in an
</I>&gt;<i> &gt;&gt;&gt;&gt; amicable way. Thank you for reading this message, I hope for a reply
</I>&gt;<i> &gt;&gt;&gt;&gt; from
</I>&gt;<i> &gt;&gt;&gt;&gt; you soon!
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Why not visit my tech site?: <A HREF="http://bjm1904.741.com/">http://bjm1904.741.com/</A>
</I>&gt;<i> &gt;&gt;&gt;&gt; or Apollo OS?:
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="http://apolloopsys.sourceforge.net/">http://apolloopsys.sourceforge.net/</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; ________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt;&gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt;&gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; --
</I>&gt;<i> &gt;&gt;&gt; This email is not intended to offend, annoy or inconvenience anyone. If
</I>&gt;<i> &gt;&gt;&gt; it
</I>&gt;<i> &gt;&gt;&gt; has, email me and state that it has, and we'll sort out the problem in
</I>&gt;<i> &gt;&gt;&gt; an
</I>&gt;<i> &gt;&gt;&gt; amicable way. Thank you for reading this message, I hope for a reply
</I>&gt;<i> &gt;&gt;&gt; from
</I>&gt;<i> &gt;&gt;&gt; you soon!
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Why not visit my tech site?: <A HREF="http://bjm1904.741.com/">http://bjm1904.741.com/</A>
</I>&gt;<i> &gt;&gt;&gt; or Apollo OS?:
</I>&gt;<i> &gt;&gt;&gt; <A HREF="http://apolloopsys.sourceforge.net/">http://apolloopsys.sourceforge.net/</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; --
</I>&gt;<i> &gt;&gt; This email is not intended to offend, annoy or inconvenience anyone. If
</I>&gt;<i> &gt;&gt; it
</I>&gt;<i> &gt;&gt; has, email me and state that it has, and we'll sort out the problem in
</I>&gt;<i> an
</I>&gt;<i> &gt;&gt; amicable way. Thank you for reading this message, I hope for a reply
</I>&gt;<i> from
</I>&gt;<i> &gt;&gt; you soon!
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Why not visit my tech site?: <A HREF="http://bjm1904.741.com/">http://bjm1904.741.com/</A>
</I>&gt;<i> &gt;&gt; or Apollo OS?:
</I>&gt;<i> &gt;&gt; <A HREF="http://apolloopsys.sourceforge.net/">http://apolloopsys.sourceforge.net/</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; ________________________________
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; mikeos-developer mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; mikeos-developer mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> mikeos-developer mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">mikeos-developer at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">https://lists.berlios.de/mailman/listinfo/mikeos-developer</A>
</I>&gt;<i>
</I>


-- 
This email is not intended to offend, annoy or inconvenience anyone. If it
has, email me and state that it has, and we'll sort out the problem in an
amicable way. Thank you for reading this message, I hope for a reply from
you soon!

Why not visit my tech site?: <A HREF="http://bjm1904.741.com/">http://bjm1904.741.com/</A>
or Apollo OS?:
<A HREF="http://apolloopsys.sourceforge.net/">http://apolloopsys.sourceforge.net/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/mikeos-developer/attachments/20080902/61d3453f/attachment.html">https://lists.berlios.de/pipermail/mikeos-developer/attachments/20080902/61d3453f/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000111.html">[mikeos-developer] Looking ahead to	2.0:segmentsandDOScompatibility
</A></li>
	<LI>Next message: <A HREF="000106.html">[mikeos-developer] Looking ahead to 2.0: segments and DOS	compatibility
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#114">[ date ]</a>
              <a href="thread.html#114">[ thread ]</a>
              <a href="subject.html#114">[ subject ]</a>
              <a href="author.html#114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mikeos-developer">More information about the mikeos-developer
mailing list</a><br>
</body></html>
