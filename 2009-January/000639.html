<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mikeos-developer] On the carry flag
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mikeos-developer/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20On%20the%20carry%20flag&In-Reply-To=%3C19d8b3b00901131027m46fdf661rcceb40447c854edf%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000638.html">
   <LINK REL="Next"  HREF="000644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mikeos-developer] On the carry flag</H1>
    <B>M Saunders</B> 
    <A HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20On%20the%20carry%20flag&In-Reply-To=%3C19d8b3b00901131027m46fdf661rcceb40447c854edf%40mail.gmail.com%3E"
       TITLE="[mikeos-developer] On the carry flag">okachi at gmail.com
       </A><BR>
    <I>Tue Jan 13 19:27:28 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000638.html">[mikeos-developer] On the carry flag
</A></li>
        <LI>Next message: <A HREF="000644.html">[mikeos-developer] COS and BUT v 0.1 Released [hopefully valid this	time]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#639">[ date ]</a>
              <a href="thread.html#639">[ thread ]</a>
              <a href="subject.html#639">[ subject ]</a>
              <a href="author.html#639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1/13/09, Hiato &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">hiato1 at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>  think I have narrowed this down to the Carry Flag being modified/not
</I>&gt;<i>  being set when I call the procedure as an interrupt as the code is
</I>&gt;<i>  identical and I have double checked, in triplicate the vectors and
</I>&gt;<i>  calls for the interrupt.
</I>
Yep, sounds right. A normal 'ret' doesn't restore the FLAGS register,
so when you're back in the calling code you can check for the carry
flag etc.

However, 'int' and 'iret' push and pop FLAGS respectively, hence why
you're back to the exact same situation as before the interrupt.

Not sure how to fix this -- you may just have to send back the results
in a register (ag AX = 1 if strings match, 0 if not) rather than using
bits in FLAGS.

-- 
Mike Saunders
<A HREF="http://okachi.googlepages.com">http://okachi.googlepages.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000638.html">[mikeos-developer] On the carry flag
</A></li>
	<LI>Next message: <A HREF="000644.html">[mikeos-developer] COS and BUT v 0.1 Released [hopefully valid this	time]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#639">[ date ]</a>
              <a href="thread.html#639">[ thread ]</a>
              <a href="subject.html#639">[ subject ]</a>
              <a href="author.html#639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mikeos-developer">More information about the mikeos-developer
mailing list</a><br>
</body></html>
