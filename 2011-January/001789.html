<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [mikeos-developer] Printing
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/mikeos-developer/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Printing&In-Reply-To=%3C20110128192533.LXCZD.112503.root%40web09-winn.ispmail.private.ntl.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001788.html">
   <LINK REL="Next"  HREF="001790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[mikeos-developer] Printing</H1>
    <B>wisecracker at tesco.net</B> 
    <A HREF="mailto:mikeos-developer%40lists.berlios.de?Subject=Re%3A%20%5Bmikeos-developer%5D%20Printing&In-Reply-To=%3C20110128192533.LXCZD.112503.root%40web09-winn.ispmail.private.ntl.com%3E"
       TITLE="[mikeos-developer] Printing">wisecracker at tesco.net
       </A><BR>
    <I>Fri Jan 28 20:25:33 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001788.html">[mikeos-developer] Printing
</A></li>
        <LI>Next message: <A HREF="001790.html">[mikeos-developer] The Keyboard Project...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1789">[ date ]</a>
              <a href="thread.html#1789">[ thread ]</a>
              <a href="subject.html#1789">[ subject ]</a>
              <a href="author.html#1789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Oooh, ah hates top posting...

Let us have afew questions answered first:-

1) Are you using a Parallel Port printer?
2) If YES to 1), have you tried the PrtScn key to see if the characters
on screen are printed.
3) If NO then no assembly code will make this BIOS interrupt work.
4) Assuming you are using a PP printer have you initialised it first?
5) AND, did you check its status after intialisation and before printing?
Bit 0 - Timeout.
Bit 1 - Unused.
Bit 2 - Unused.
Bit 3 - I/O error.
Bit 4 - Printer Selected(!?!)
Bit 5 - Out of paper.
Bit 6 - Acknowledged.
Bit 7 - Printer NOT busy.
Bits set to 1 for any condition, 0 is considered OK!

---- Muzaffar Auhammud &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/mikeos-developer">muzhacker at scalux.tk</A>&gt; wrote: 
&gt;<i> 
</I>&gt;<i> Hi! I've tried to print (using a printer, not to the screen) a single character using the 17h interrupt. This is my code. However it does not work. Do have have an idea why?
</I>&gt;<i> 
</I>&gt;<i> 1. Contents of  System.IO.Printer.asm (Part of kernel):
</I>&gt;<i> 
</I>&gt;<i> System.IO.Printer.Print:
</I>&gt;<i> 
</I>&gt;<i> ;IN:
</I>&gt;<i> ;BL = Character to print
</I>&gt;<i> 
</I>&gt;<i> ;OUT:
</I>&gt;<i> ;Nothing 
</I>&gt;<i> 
</I>&gt;<i> pusha
</I>&gt;<i> 
</I>&gt;<i> .tmp_print dw 0
</I>&gt;<i> 
</I>&gt;<i> ;Function 0
</I>&gt;<i> mov AH, 0
</I>&gt;<i> 
</I>&gt;<i> ;Save character to print
</I>&gt;<i> mov byte [.tmp_print], BL
</I>&gt;<i> 
</I>&gt;<i> ;Move character to print to AL
</I>&gt;<i> mov byte AL, [.tmp_print]
</I>&gt;<i> 
</I>&gt;<i> ;Printer number 0 (which number does it have to be? I have one printer)
</I>&gt;<i> mov  DX, 0
</I>&gt;<i> 
</I>&gt;<i> ;Printer Interrupt
</I>&gt;<i> int 17h
</I>&gt;<i> 
</I>&gt;<i> popa
</I>&gt;<i> 
</I>&gt;<i> ret
</I>&gt;<i> 
</I>&gt;<i> 2. Contents of printer.asm (A program):
</I>&gt;<i> 
</I>&gt;<i> %INCLUDE 'Scalux OS API.inc'    
</I>&gt;<i> 
</I>&gt;<i> Main:
</I>&gt;<i> 
</I>&gt;<i> mov BL, 'A'
</I>&gt;<i> call System.IO.Printer.print
</I>&gt;<i> 
</I>&gt;<i> ret
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have initialized the system call at the top of the kernel. All the other system calls work fine. Are there any errors in the above codes?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>  		 	   		  
</I>


--
73...

Bazza, G0LCU...

Team AMIGA...

<A HREF="http://homepages.tesco.net/wisecracker/">http://homepages.tesco.net/wisecracker/</A>

<A HREF="http://main.aminet.net/search?readme=wisecracker">http://main.aminet.net/search?readme=wisecracker</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001788.html">[mikeos-developer] Printing
</A></li>
	<LI>Next message: <A HREF="001790.html">[mikeos-developer] The Keyboard Project...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1789">[ date ]</a>
              <a href="thread.html#1789">[ thread ]</a>
              <a href="subject.html#1789">[ subject ]</a>
              <a href="author.html#1789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/mikeos-developer">More information about the mikeos-developer
mailing list</a><br>
</body></html>
